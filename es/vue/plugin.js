import{ref as t,provide as e}from"vue";import{createAdapter as o}from"../adapters/index.js";import{HttpClientImpl as i}from"../client.js";import{HTTP_CLIENT_KEY as n,HTTP_CONFIG_KEY as r}from"./useHttp.js";const s={install(e,s={}){const l=s,a=l.client||new i(l.globalConfig||{},o());e.provide(n,a),l.globalConfig&&e.provide(r,t(l.globalConfig));const p=l.globalProperty||"$http";e.config.globalProperties[p]=a,e.provide("httpClient",a)}};function l(t,e){t.use(s,e)}const a={name:"HttpProvider",props:{client:{type:Object,required:!1},config:{type:Object,required:!1}},setup(s,{slots:l}){const a=s.client||new i(s.config||{},o());return e(n,a),s.config&&e(r,t(s.config)),()=>l.default?.()}};function p(t={}){return{install(e){s.install?.(e,t)}}}export{s as HttpPlugin,a as HttpProvider,p as createHttpPlugin,s as default,l as install};
//# sourceMappingURL=plugin.js.map
