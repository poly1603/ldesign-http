import{ref as e,unref as a}from"vue";function l(l,t,n={}){const{delay:u=300}=n,r=e(!1),c=e(null),o=e(null);let s=null;return{execute:async e=>(s&&clearTimeout(s),new Promise((n,i)=>{s=setTimeout(async()=>{try{r.value=!0,o.value=null;const u={...a(t),...e},s=await l.request(u);c.value=s.data,n(s.data)}catch(e){o.value=e,i(e)}finally{r.value=!1,s=null}},u)})),cancel:()=>{s&&(clearTimeout(s),s=null)},loading:r,data:c,error:o}}function t(l,t,n={}){const{delay:u=1e3,leading:r=!0,trailing:c=!1}=n,o=e(!1),s=e(null),i=e(null);let d,y=0,v=null;return{execute:async e=>{const n=Date.now()-y;d=e;const m=async()=>{try{o.value=!0,i.value=null;const e={...a(t),...d},n=await l.request(e);return s.value=n.data,y=Date.now(),n.data}catch(e){throw i.value=e,e}finally{o.value=!1}};return r&&n>u?(v&&(clearTimeout(v),v=null),m()):c?(v&&clearTimeout(v),new Promise((e,a)=>{v=setTimeout(async()=>{try{const a=await m();e(a)}catch(e){a(e)}finally{v=null}},u-n)})):null},loading:o,data:s,error:i}}export{l as useDebouncedRequest,t as useThrottledRequest};
//# sourceMappingURL=useThrottledRequest.js.map
