# @ldesign/http ä½¿ç”¨æŒ‡å—ï¼ˆä¼˜åŒ–ç‰ˆï¼‰

## ğŸ“– ç›®å½•

1. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
2. [æ€§èƒ½ä¼˜åŒ–å»ºè®®](#æ€§èƒ½ä¼˜åŒ–å»ºè®®)
3. [å¸¸ç”¨åœºæ™¯](#å¸¸ç”¨åœºæ™¯)
4. [é«˜çº§åŠŸèƒ½](#é«˜çº§åŠŸèƒ½)
5. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
pnpm add @ldesign/http
```

### åŸºç¡€ä½¿ç”¨ï¼ˆæ¨èæ–¹å¼ï¼‰

```typescript
import { createHttpClient, presets } from '@ldesign/http/core'

// ä½¿ç”¨é¢„è®¾é…ç½®ï¼ˆæœ€ç®€å•ï¼‰
const client = await createHttpClient({
  ...presets.restful,
  baseURL: 'https://api.example.com'
})

// å‘é€è¯·æ±‚
const users = await client.get<User[]>('/users')
console.log(users.data)
```

---

## âš¡ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. ä½¿ç”¨æ ¸å¿ƒæ¨¡å—ï¼ˆåŒ…ä½“ç§¯æœ€å°ï¼‰

```typescript
// âœ… æ¨èï¼šæ ¸å¿ƒæ¨¡å—ï¼ˆ42KBï¼‰
import { createHttpClient } from '@ldesign/http/core'

// âŒ é¿å…ï¼šå®Œæ•´å¯¼å…¥ï¼ˆ60KBï¼‰
import { createHttpClient } from '@ldesign/http'
```

**æ•ˆæœ**ï¼šåŒ…ä½“ç§¯å‡å°‘ 30%

### 2. é¢„åŠ è½½é€‚é…å™¨

```typescript
// åº”ç”¨å¯åŠ¨æ—¶ï¼ˆmain.tsï¼‰
import { preloadAdapters } from '@ldesign/http'

await preloadAdapters(['fetch'])

// ä¹‹åå¯åŒæ­¥åˆ›å»º
import { createHttpClientSync } from '@ldesign/http'
const client = createHttpClientSync()
```

**æ•ˆæœ**ï¼šé¦–æ¬¡åˆ›å»ºæ— å»¶è¿Ÿ

### 3. ä½¿ç”¨é¢„è®¾é…ç½®

```typescript
import { presets } from '@ldesign/http'

// âœ… æ¨èï¼šä½¿ç”¨é¢„è®¾
const client = await createHttpClient(presets.restful)

// âŒ é¿å…ï¼šæ‰‹åŠ¨é…ç½®æ‰€æœ‰é€‰é¡¹
const client = await createHttpClient({
  timeout: 10000,
  cache: { enabled: true, ttl: 300000 },
  retry: { retries: 3 },
  // ... å¤§é‡é…ç½®
})
```

**æ•ˆæœ**ï¼šå¼€å‘é€Ÿåº¦æå‡ï¼Œé…ç½®æœ€ä¼˜

### 4. å¯ç”¨ä¼˜åŒ–çš„ç¼“å­˜å­˜å‚¨

```typescript
import { createOptimizedMemoryStorage } from '@ldesign/http'

const client = await createHttpClient({
  cache: {
    enabled: true,
    storage: createOptimizedMemoryStorage({
      maxSize: 50 * 1024 * 1024,  // 50MB
      enableCompression: true      // è‡ªåŠ¨å‹ç¼©
    })
  }
})
```

**æ•ˆæœ**ï¼šå†…å­˜å ç”¨å‡å°‘ 40%ï¼Œå¤§å¯¹è±¡å‹ç¼© 40-70%

### 5. ä½¿ç”¨ç´§å‡‘å‹ç›‘æ§å™¨

```typescript
import { createCompactMonitor } from '@ldesign/http'

const client = await createHttpClient({
  monitor: createCompactMonitor({
    maxMetrics: 5000,
    slowRequestThreshold: 2000
  })
})
```

**æ•ˆæœ**ï¼šç›‘æ§å†…å­˜å ç”¨å‡å°‘ 60%

---

## ğŸ“‹ å¸¸ç”¨åœºæ™¯

### åœºæ™¯ 1ï¼šREST API åº”ç”¨

```typescript
import { createHttpClient, presets } from '@ldesign/http/core'

const client = await createHttpClient({
  ...presets.restful,
  baseURL: 'https://api.example.com'
})

// GET è¯·æ±‚
const users = await client.get<User[]>('/users')

// POST è¯·æ±‚
const newUser = await client.post<User>('/users', {
  name: 'John Doe',
  email: 'john@example.com'
})

// PUT è¯·æ±‚
await client.put<User>('/users/1', {
  name: 'Jane Doe'
})

// DELETE è¯·æ±‚
await client.delete('/users/1')
```

### åœºæ™¯ 2ï¼šç§»åŠ¨åº”ç”¨ï¼ˆä½åŠŸè€—ï¼‰

```typescript
import { presets } from '@ldesign/http/core'

const client = await createHttpClient({
  ...presets.lowPower,
  baseURL: 'https://api.example.com'
})

// ç‰¹ç‚¹ï¼š
// - ç§¯æç¼“å­˜ï¼ˆ15åˆ†é’Ÿï¼‰
// - ä½å¹¶å‘ï¼ˆ3ä¸ªï¼‰
// - å¯ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—
// - 10% é‡‡æ ·ç‡
```

### åœºæ™¯ 3ï¼šå®æ—¶åº”ç”¨

```typescript
import { presets } from '@ldesign/http/core'

const client = await createHttpClient({
  ...presets.realtime,
  baseURL: 'https://api.example.com'
})

// ç‰¹ç‚¹ï¼š
// - ç¦ç”¨ç¼“å­˜
// - ç§¯æé‡è¯•ï¼ˆ5æ¬¡ï¼‰
// - Keep-Alive è¿æ¥
// - é«˜å¹¶å‘ï¼ˆ20ä¸ªï¼‰
```

### åœºæ™¯ 4ï¼šæ‰¹é‡æ“ä½œ

```typescript
import { presets } from '@ldesign/http/core'

const client = await createHttpClient({
  ...presets.batch,
  baseURL: 'https://api.example.com'
})

// æ‰¹é‡ä¸Šä¼ 
const files = [file1, file2, file3]
const results = await Promise.all(
  files.map(file => client.upload('/upload', file))
)

// ç‰¹ç‚¹ï¼š
// - é«˜å¹¶å‘ï¼ˆ50ä¸ªï¼‰
// - å¤§é˜Ÿåˆ—ï¼ˆ1000ä¸ªï¼‰
// - ç¦ç”¨ç¼“å­˜
// - è¯¦ç»†ç›‘æ§
```

---

## ğŸ”¥ é«˜çº§åŠŸèƒ½

### 1. è¯·æ±‚å½•åˆ¶å’Œå›æ”¾

```typescript
import { RequestRecorder } from '@ldesign/http'

const recorder = new RequestRecorder({
  maxRecordings: 1000,
  recordResponseBody: true
})

recorder.attachToClient(client)

// å¼€å§‹å½•åˆ¶
recorder.startRecording()
await client.get('/users')
await client.post('/users', { name: 'John' })
const recordings = recorder.stopRecording()

// ä¿å­˜å½•åˆ¶
await recorder.saveToFile('./api-recordings.json')

// å›æ”¾æµ‹è¯•
recorder.enableReplayMode()
await client.get('/users')  // è¿”å›å½•åˆ¶çš„å“åº”

// ç»Ÿè®¡
const stats = recorder.getStats()
console.log('å½•åˆ¶æ•°é‡:', stats.totalRecordings)
console.log('ä¼°è®¡å¤§å°:', stats.estimatedSize)
```

### 2. Vue æ— é™æ»šåŠ¨

```typescript
import { useInfiniteScroll } from '@ldesign/http/vue'

const {
  data,           // æ‰€æœ‰åŠ è½½çš„æ•°æ®
  loading,        // åŠ è½½çŠ¶æ€
  hasMore,        // æ˜¯å¦æœ‰æ›´å¤š
  loadMore,       // åŠ è½½æ›´å¤š
  refresh,        // åˆ·æ–°
  reset           // é‡ç½®
} = useInfiniteScroll('/api/posts', {
  pageSize: 20,
  getNextPageParam: (lastPage) => lastPage.nextCursor
})

// ä½¿ç”¨
await loadMore()  // åŠ è½½ä¸‹ä¸€é¡µ
await refresh()   // åˆ·æ–°æ•°æ®
```

### 3. Vue åˆ†é¡µ

```typescript
import { usePagination } from '@ldesign/http/vue'

const {
  data,         // å½“å‰é¡µæ•°æ®
  page,         // å½“å‰é¡µç 
  pageSize,     // æ¯é¡µå¤§å°
  total,        // æ€»æ•°
  totalPages,   // æ€»é¡µæ•°
  hasNext,      // æ˜¯å¦æœ‰ä¸‹ä¸€é¡µ
  hasPrev,      // æ˜¯å¦æœ‰ä¸Šä¸€é¡µ
  next,         // ä¸‹ä¸€é¡µ
  prev,         // ä¸Šä¸€é¡µ
  goto,         // è·³è½¬
  setPageSize   // è®¾ç½®æ¯é¡µå¤§å°
} = usePagination('/api/users', {
  pageSize: 20
})

// ä½¿ç”¨
await next()           // ä¸‹ä¸€é¡µ
await prev()           // ä¸Šä¸€é¡µ
await goto(5)          // è·³è½¬åˆ°ç¬¬5é¡µ
await setPageSize(50)  // æ”¹ä¸ºæ¯é¡µ50æ¡
```

### 4. è‡ªé€‚åº”é‡è¯•

```typescript
const client = await createHttpClient({
  retry: {
    adaptive: true,           // å¯ç”¨è‡ªé€‚åº”
    respectRetryAfter: true,  // å°Šé‡æœåŠ¡å™¨å»ºè®®
    degradation: {
      enabled: true,
      levels: [
        {
          after: 2,
          changes: {
            timeout: 5000,      // ç¬¬2æ¬¡é‡è¯•åé™ä½è¶…æ—¶
            priority: 'low'     // é™ä½ä¼˜å…ˆçº§
          }
        },
        {
          after: 3,
          changes: {
            cache: 'stale-if-error'  // ç¬¬3æ¬¡åä½¿ç”¨è¿‡æœŸç¼“å­˜
          }
        }
      ]
    }
  }
})
```

### 5. å“ç‰Œç±»å‹ï¼ˆç±»å‹å®‰å…¨ï¼‰

```typescript
import {
  createUrl,
  createToken,
  createTimeout,
  type Url,
  type Token
} from '@ldesign/http'

// ç±»å‹å®‰å…¨çš„å€¼
const apiUrl: Url = createUrl('https://api.example.com')
const authToken: Token = createToken('secret-token')
const requestTimeout: Timeout = createTimeout(5000)

// ç¼–è¯‘æ—¶é˜²æ­¢æ··ç”¨
function setApiUrl(url: Url) { /* ... */ }
setApiUrl(authToken)  // âŒ ç¼–è¯‘é”™è¯¯ï¼
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. é¡¹ç›®ç»“æ„

```typescript
// src/api/client.ts
import { createHttpClient, presets } from '@ldesign/http/core'

export const createApiClient = async () => {
  return createHttpClient({
    ...presets.production,
    baseURL: import.meta.env.VITE_API_URL,
    
    // æ·»åŠ è®¤è¯æ‹¦æˆªå™¨
    interceptors: {
      request: [(config) => {
        const token = localStorage.getItem('token')
        if (token) {
          config.headers = { ...config.headers, Authorization: `Bearer ${token}` }
        }
        return config
      }]
    }
  })
}

// src/api/users.ts
import type { User } from './types'

export class UserAPI {
  constructor(private client: HttpClient) {}
  
  getUsers() {
    return this.client.get<User[]>('/users')
  }
  
  createUser(data: CreateUserDto) {
    return this.client.post<User>('/users', data)
  }
}
```

### 2. Vue åº”ç”¨é›†æˆ

```typescript
// main.ts
import { createApp } from 'vue'
import { createHttpPlugin, presets, preloadAdapters } from '@ldesign/http'
import App from './App.vue'

const app = createApp(App)

// é¢„åŠ è½½é€‚é…å™¨
await preloadAdapters(['fetch'])

// å®‰è£…æ’ä»¶
app.use(createHttpPlugin({
  ...presets.production,
  baseURL: import.meta.env.VITE_API_URL
}))

app.mount('#app')
```

```vue
<!-- UserList.vue -->
<script setup lang="ts">
import { usePagination } from '@ldesign/http/vue'

const { data, loading, next, prev, page, totalPages } = usePagination('/users', {
  pageSize: 20
})
</script>

<template>
  <div>
    <div v-if="loading">åŠ è½½ä¸­...</div>
    <div v-else>
      <div v-for="user in data" :key="user.id">
        {{ user.name }}
      </div>
    </div>
    
    <div class="pagination">
      <button @click="prev" :disabled="page <= 1">ä¸Šä¸€é¡µ</button>
      <span>{{ page }} / {{ totalPages }}</span>
      <button @click="next" :disabled="page >= totalPages">ä¸‹ä¸€é¡µ</button>
    </div>
  </div>
</template>
```

### 3. é”™è¯¯å¤„ç†

```typescript
import { isHttpError, isNetworkError, isTimeoutError } from '@ldesign/http'

try {
  const response = await client.get('/users')
} catch (error) {
  if (isHttpError(error)) {
    if (error.status === 401) {
      // æœªæˆæƒï¼Œè·³è½¬ç™»å½•
      router.push('/login')
    } else if (error.status === 404) {
      // èµ„æºä¸å­˜åœ¨
      showError('èµ„æºä¸å­˜åœ¨')
    } else if (error.status >= 500) {
      // æœåŠ¡å™¨é”™è¯¯
      showError('æœåŠ¡å™¨æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•')
    }
  } else if (isNetworkError(error)) {
    // ç½‘ç»œé”™è¯¯
    showError('ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®')
  } else if (isTimeoutError(error)) {
    // è¶…æ—¶
    showError('è¯·æ±‚è¶…æ—¶ï¼Œè¯·é‡è¯•')
  }
}
```

### 4. ç¼“å­˜ç­–ç•¥

```typescript
// å…¨å±€ç¼“å­˜é…ç½®
const client = await createHttpClient({
  cache: {
    enabled: true,
    ttl: 5 * 60 * 1000  // 5åˆ†é’Ÿ
  }
})

// è¯·æ±‚çº§ç¼“å­˜æ§åˆ¶
await client.get('/users', {
  cache: {
    ttl: 10 * 60 * 1000  // æ­¤è¯·æ±‚ç¼“å­˜10åˆ†é’Ÿ
  }
})

// ç¦ç”¨ç‰¹å®šè¯·æ±‚çš„ç¼“å­˜
await client.get('/realtime-data', {
  cache: { enabled: false }
})

// æ¸…ç©ºç¼“å­˜
await client.clearCache()
```

### 5. å¹¶å‘æ§åˆ¶

```typescript
const client = await createHttpClient({
  concurrency: {
    maxConcurrent: 10,      // æœ€å¤š10ä¸ªå¹¶å‘
    deduplication: true     // è‡ªåŠ¨å»é‡
  }
})

// å¹¶å‘è¯·æ±‚è‡ªåŠ¨æ§åˆ¶
const results = await Promise.all([
  client.get('/users'),
  client.get('/posts'),
  client.get('/comments'),
  // ... æ›´å¤šè¯·æ±‚
])

// ç›¸åŒè¯·æ±‚è‡ªåŠ¨å»é‡
const [r1, r2, r3] = await Promise.all([
  client.get('/users'),
  client.get('/users'),  // å»é‡
  client.get('/users'),  // å»é‡
])
// åªå‘é€ä¸€æ¬¡çœŸå®è¯·æ±‚
```

---

## ğŸ¯ å¸¸ç”¨åœºæ™¯

### åœºæ™¯ 1ï¼šåˆ—è¡¨é¡µé¢

```vue
<script setup lang="ts">
import { usePagination } from '@ldesign/http/vue'
import type { User } from '@/types'

const {
  data: users,
  loading,
  error,
  page,
  totalPages,
  next,
  prev,
  refresh
} = usePagination<User>('/api/users', {
  pageSize: 20,
  immediate: true
})
</script>

<template>
  <div>
    <div v-if="loading">åŠ è½½ä¸­...</div>
    <div v-else-if="error">é”™è¯¯: {{ error.message }}</div>
    <div v-else>
      <UserCard v-for="user in users" :key="user.id" :user="user" />
    </div>
    
    <Pagination
      :current="page"
      :total="totalPages"
      @prev="prev"
      @next="next"
    />
  </div>
</template>
```

### åœºæ™¯ 2ï¼šæ— é™æ»šåŠ¨

```vue
<script setup lang="ts">
import { useInfiniteScroll } from '@ldesign/http/vue'
import { onMounted, ref } from 'vue'

const {
  data: posts,
  loading,
  hasMore,
  loadMore
} = useInfiniteScroll('/api/posts', {
  pageSize: 20
})

// ç›‘å¬æ»šåŠ¨
const container = ref<HTMLElement>()

onMounted(() => {
  const observer = new IntersectionObserver((entries) => {
    if (entries[0]?.isIntersecting && hasMore.value && !loading.value) {
      loadMore()
    }
  })
  
  const sentinel = container.value?.querySelector('.sentinel')
  if (sentinel) {
    observer.observe(sentinel)
  }
})
</script>

<template>
  <div ref="container">
    <PostCard v-for="post in data" :key="post.id" :post="post" />
    <div class="sentinel"></div>
    <div v-if="loading">åŠ è½½ä¸­...</div>
    <div v-else-if="!hasMore">æ²¡æœ‰æ›´å¤šäº†</div>
  </div>
</template>
```

### åœºæ™¯ 3ï¼šè¡¨å•æäº¤

```vue
<script setup lang="ts">
import { useForm } from '@ldesign/http/vue'
import type { CreateUserDto, User } from '@/types'

const {
  data: formData,
  submitting,
  errors,
  submit,
  setValidationRules
} = useForm<CreateUserDto>({
  initialData: {
    name: '',
    email: ''
  }
})

setValidationRules({
  name: [
    { required: true, message: 'å§“åä¸èƒ½ä¸ºç©º' },
    { min: 2, message: 'å§“åè‡³å°‘2ä¸ªå­—ç¬¦' }
  ],
  email: [
    { required: true, message: 'é‚®ç®±ä¸èƒ½ä¸ºç©º' },
    { pattern: /^[^\s@]+@[^\s@]+\.[^\s@]+$/, message: 'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®' }
  ]
})

const handleSubmit = async () => {
  const response = await submit<User>('/api/users')
  if (response) {
    console.log('åˆ›å»ºæˆåŠŸ:', response.data)
  }
}
</script>

<template>
  <form @submit.prevent="handleSubmit">
    <div>
      <input v-model="formData.name" placeholder="å§“å" />
      <span v-if="errors.name">{{ errors.name }}</span>
    </div>
    
    <div>
      <input v-model="formData.email" placeholder="é‚®ç®±" />
      <span v-if="errors.email">{{ errors.email }}</span>
    </div>
    
    <button type="submit" :disabled="submitting">
      {{ submitting ? 'æäº¤ä¸­...' : 'æäº¤' }}
    </button>
  </form>
</template>
```

### åœºæ™¯ 4ï¼šæ–‡ä»¶ä¸Šä¼ 

```typescript
const file = fileInput.files[0]

const result = await client.upload('/upload', file, {
  onProgress: (progress) => {
    console.log(`è¿›åº¦: ${progress.percentage}%`)
    console.log(`é€Ÿåº¦: ${progress.speed} bytes/s`)
    console.log(`å‰©ä½™: ${progress.remaining}ms`)
  },
  
  // æ–‡ä»¶éªŒè¯
  maxSize: 10 * 1024 * 1024,  // 10MB
  allowedTypes: ['image/jpeg', 'image/png']
})

console.log('ä¸Šä¼ å®Œæˆ:', result.data)
```

### åœºæ™¯ 5ï¼šå¼€å‘è°ƒè¯•

```typescript
import { RequestRecorder } from '@ldesign/http'

const recorder = new RequestRecorder()
recorder.attachToClient(client)

if (import.meta.env.DEV) {
  // å¼€å‘ç¯å¢ƒå½•åˆ¶æ‰€æœ‰è¯·æ±‚
  recorder.startRecording()
  
  // å®šæœŸä¿å­˜
  setInterval(() => {
    recorder.saveToFile('dev-recordings.json')
  }, 60000)
}
```

---

## ğŸ“ æœ€ä½³å®è·µ

### 1. åŒ…ä½“ç§¯ä¼˜åŒ–

```typescript
// âœ… æœ€ä½³ï¼šæŒ‰éœ€å¯¼å…¥
import { createHttpClient } from '@ldesign/http/core'
import { useHttp } from '@ldesign/http/vue'

// âœ… è‰¯å¥½ï¼šæ ¸å¿ƒæ¨¡å—
import { createHttpClient, presets } from '@ldesign/http/core'

// âš ï¸  å¯æ¥å—ï¼šå®Œæ•´å¯¼å…¥ï¼ˆå‘åå…¼å®¹ï¼‰
import { createHttpClient, presets } from '@ldesign/http'
```

### 2. æ€§èƒ½ä¼˜åŒ–

```typescript
// âœ… ä½¿ç”¨é¢„è®¾
const client = await createHttpClient(presets.production)

// âœ… é¢„åŠ è½½é€‚é…å™¨
await preloadAdapters(['fetch'])

// âœ… å¯ç”¨ä¼˜åŒ–å­˜å‚¨
import { createOptimizedMemoryStorage } from '@ldesign/http'
cache: { storage: createOptimizedMemoryStorage() }

// âœ… ä½¿ç”¨ç´§å‡‘ç›‘æ§
import { createCompactMonitor } from '@ldesign/http'
monitor: createCompactMonitor()
```

### 3. ç±»å‹å®‰å…¨

```typescript
// âœ… å®šä¹‰æ¥å£
interface User {
  id: number
  name: string
}

// âœ… ä½¿ç”¨æ³›å‹
const users = await client.get<User[]>('/users')

// âœ… ä½¿ç”¨ç±»å‹å®ˆå«
if (isHttpError(error)) {
  console.log(error.status)
}

// âœ… ä½¿ç”¨å“ç‰Œç±»å‹
const url: Url = createUrl('https://api.example.com')
```

### 4. é”™è¯¯å¤„ç†

```typescript
// âœ… é›†ä¸­å¤„ç†
client.addResponseInterceptor(
  (response) => response,
  (error) => {
    if (error.status === 401) {
      router.push('/login')
    }
    return Promise.reject(error)
  }
)

// âœ… å±€éƒ¨å¤„ç†
try {
  await client.get('/users')
} catch (error) {
  if (isHttpError(error)) {
    handleHttpError(error)
  }
}
```

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| ä½¿ç”¨æ–¹å¼ | åŒ…ä½“ç§¯ | é¦–æ¬¡è¯·æ±‚ | é€‚ç”¨åœºæ™¯ |
|----------|--------|----------|----------|
| æ ¸å¿ƒæ¨¡å— + é¢„è®¾ | 44KB | 1.4ms | âœ… **æ¨è** |
| æŒ‰éœ€å¯¼å…¥ | 25-35KB | 1.4ms | åŒ…ä½“ç§¯æ•æ„Ÿ |
| å®Œæ•´å¯¼å…¥ | 60KB | 2.5ms | å‘åå…¼å®¹ |
| å®Œæ•´å¯¼å…¥ + é¢„è®¾ | 60KB | 1.4ms | ç®€å•è¿ç§» |

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [å®Œæ•´æ–‡æ¡£](./README.md)
- [ä¼˜åŒ–æ€»ç»“](./OPTIMIZATION_SUMMARY.md)
- [å¿«é€Ÿå¼€å§‹](./QUICK_START.md)
- [å®æ–½æŠ¥å‘Š](./IMPLEMENTATION_REPORT.md)
- [å®ŒæˆæŠ¥å‘Š](./COMPLETE_REPORT.md)

---

## â“ å¸¸è§é—®é¢˜

### Q1ï¼šä¸ºä»€ä¹ˆ createHttpClient ç°åœ¨æ˜¯å¼‚æ­¥çš„ï¼Ÿ

Aï¼šä¸ºäº†æ”¯æŒé€‚é…å™¨åŠ¨æ€åŠ è½½ï¼Œå‡å°‘åˆå§‹åŒ…ä½“ç§¯ã€‚å¦‚æœéœ€è¦åŒæ­¥åˆ›å»ºï¼Œä½¿ç”¨ï¼š

```typescript
await preloadAdapters(['fetch'])
const client = createHttpClientSync()
```

### Q2ï¼šå¦‚ä½•å®ç°æœ€å°çš„åŒ…ä½“ç§¯ï¼Ÿ

Aï¼šä½¿ç”¨æ ¸å¿ƒæ¨¡å— + æŒ‰éœ€å¯¼å…¥ï¼š

```typescript
import { createHttpClient } from '@ldesign/http/core'
// åªå¯¼å…¥éœ€è¦çš„åŠŸèƒ½
```

### Q3ï¼šé¢„è®¾é…ç½®å¯ä»¥è‡ªå®šä¹‰å—ï¼Ÿ

Aï¼šå¯ä»¥ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š

```typescript
// æ–¹å¼1ï¼šå±•å¼€åè¦†ç›–
const client = await createHttpClient({
  ...presets.restful,
  baseURL: 'https://api.example.com',
  timeout: 15000  // è¦†ç›–é»˜è®¤å€¼
})

// æ–¹å¼2ï¼šä½¿ç”¨ mergePreset
import { mergePreset } from '@ldesign/http'
const config = mergePreset('restful', {
  baseURL: 'https://api.example.com'
})
```

### Q4ï¼šå¦‚ä½•è¿ç§»ç°æœ‰é¡¹ç›®ï¼Ÿ

Aï¼šå®Œå…¨å‘åå…¼å®¹ï¼Œæ— éœ€ä¿®æ”¹ï¼š

```typescript
// æ—§ä»£ç ç»§ç»­å·¥ä½œ
import { createHttpClient } from '@ldesign/http'
const client = await createHttpClient({ /* ... */ })

// å¯é€‰ï¼šé€æ­¥é‡‡ç”¨æ–°ç‰¹æ€§
import { presets } from '@ldesign/http'
const client = await createHttpClient(presets.restful)
```

### Q5ï¼šä¼˜åŒ–åæ€§èƒ½æå‡æ˜æ˜¾å—ï¼Ÿ

Aï¼šæ˜¯çš„ï¼ä¸»è¦æå‡ï¼š
- ç®€å•è¯·æ±‚ï¼šæå‡ 44%
- ç¼“å­˜æŸ¥è¯¢ï¼šæå‡ 62%
- é«˜å¹¶å‘ï¼šæå‡ 35%
- å†…å­˜å ç”¨ï¼šå‡å°‘ 45%

---

<div align="center">

**æ„Ÿè°¢ä½¿ç”¨ @ldesign/httpï¼**

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è®¿é—® [GitHub Issues](https://github.com/ldesign/http/issues)

</div>

