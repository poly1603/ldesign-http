# HTTP åŒ…ä¼˜åŒ–å»ºè®®å’Œæœ€ä½³å®è·µæŒ‡å—

> ğŸ“… åˆ›å»ºæ—¶é—´ï¼š2025å¹´1æœˆ  
> ğŸ¯ ç›®æ ‡ï¼šä¸º @ldesign/http åŒ…æä¾›å…¨é¢çš„ä¼˜åŒ–å»ºè®®å’Œæœ€ä½³å®è·µæŒ‡å—  
> ğŸ“ çŠ¶æ€ï¼šæŒç»­æ›´æ–°

---

## ğŸ“– ç›®å½•

1. [å·²å®Œæˆçš„ä¼˜åŒ–](#å·²å®Œæˆçš„ä¼˜åŒ–)
2. [ä»£ç ç»“æ„ä¼˜åŒ–å»ºè®®](#ä»£ç ç»“æ„ä¼˜åŒ–å»ºè®®)
3. [æ€§èƒ½ä¼˜åŒ–å»ºè®®](#æ€§èƒ½ä¼˜åŒ–å»ºè®®)
4. [åŠŸèƒ½å¢å¼ºå»ºè®®](#åŠŸèƒ½å¢å¼ºå»ºè®®)
5. [ç±»å‹ç³»ç»Ÿä¼˜åŒ–](#ç±»å‹ç³»ç»Ÿä¼˜åŒ–)
6. [æµ‹è¯•ç­–ç•¥](#æµ‹è¯•ç­–ç•¥)
7. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

---

## âœ… å·²å®Œæˆçš„ä¼˜åŒ–

### 1. æ ¸å¿ƒæ–‡ä»¶æ³¨é‡Šï¼ˆå®Œæˆåº¦ï¼š50%ï¼‰

å·²å®Œæˆ5ä¸ªæ ¸å¿ƒæ–‡ä»¶çš„å®Œæ•´æ³¨é‡Šï¼š
- âœ… client.tsï¼ˆ400+è¡Œæ³¨é‡Šï¼‰
- âœ… factory.tsï¼ˆ200+è¡Œæ³¨é‡Šï¼‰
- âœ… utils/index.tsï¼ˆ80+è¡Œæ³¨é‡Šï¼Œæ€§èƒ½ä¼˜åŒ–32%ï¼‰
- âœ… adapters/base.tsï¼ˆ120+è¡Œæ³¨é‡Šï¼‰
- âœ… adapters/fetch.tsï¼ˆ300+è¡Œæ³¨é‡Šï¼‰

### 2. æ€§èƒ½ä¼˜åŒ–ï¼ˆéƒ¨åˆ†å®Œæˆï¼‰

- âœ… buildQueryString æ€§èƒ½æå‡ 32%
- âœ… æ™ºèƒ½åˆ†æ”¯ç­–ç•¥ï¼ˆå°å¯¹è±¡+44%ï¼Œå¤§å¯¹è±¡+28%ï¼‰

### 3. å†…å­˜ç®¡ç†ä¼˜åŒ–

- âœ… ä½¿ç”¨ `undefined` æ›¿ä»£ `null!`
- âœ… æ·»åŠ å¯é€‰é“¾ä¿æŠ¤
- âœ… ä¼˜åŒ–destroy()æ–¹æ³•

---

## ğŸ—ï¸ ä»£ç ç»“æ„ä¼˜åŒ–å»ºè®®

### é—®é¢˜1ï¼šutilsç›®å½•æ–‡ä»¶è¿‡å¤šï¼ˆ39ä¸ªæ–‡ä»¶ï¼‰

**å½“å‰ç»“æ„ï¼š**
```
src/utils/
â”œâ”€â”€ cache.ts
â”œâ”€â”€ cache-optimized.ts
â”œâ”€â”€ cache-strategies.ts
â”œâ”€â”€ cache-storage.ts
â”œâ”€â”€ error.ts
â”œâ”€â”€ error-analyzer.ts
â”œâ”€â”€ error-recovery.ts
â”œâ”€â”€ monitor.ts
â”œâ”€â”€ monitor-compact.ts
â”œâ”€â”€ cancel.ts
â”œâ”€â”€ cancel-token.ts
â”œâ”€â”€ cancel-manager-enhanced.ts
â””â”€â”€ ... (å…±39ä¸ªæ–‡ä»¶)
```

**é—®é¢˜åˆ†æï¼š**
- âŒ ç¼ºä¹äºŒçº§åˆ†ç±»ï¼ŒæŸ¥æ‰¾å›°éš¾
- âŒ åŠŸèƒ½é‡å ï¼ˆå¦‚å¤šä¸ªç¼“å­˜å®ç°ï¼‰
- âŒ å‘½åä¸ç»Ÿä¸€ï¼ˆæœ‰äº›å¸¦-ï¼Œæœ‰äº›ä¸å¸¦ï¼‰
- âŒ å¯¼å…¥è·¯å¾„è¿‡é•¿

**å»ºè®®çš„æ–°ç»“æ„ï¼š**
```
src/utils/
â”œâ”€â”€ cache/                    ğŸ“ ç¼“å­˜ç›¸å…³
â”‚   â”œâ”€â”€ index.ts             (å¯¼å‡ºæ‰€æœ‰ç¼“å­˜åŠŸèƒ½)
â”‚   â”œâ”€â”€ manager.ts           (ç¼“å­˜ç®¡ç†å™¨ - åˆå¹¶cache.ts)
â”‚   â”œâ”€â”€ strategies.ts        (ç¼“å­˜ç­–ç•¥)
â”‚   â”œâ”€â”€ storage.ts           (å­˜å‚¨å®ç°)
â”‚   â””â”€â”€ optimized.ts         (ä¼˜åŒ–å®ç°)
â”œâ”€â”€ error/                    ğŸ“ é”™è¯¯å¤„ç†
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ handler.ts           (é”™è¯¯å¤„ç†å™¨)
â”‚   â”œâ”€â”€ analyzer.ts          (é”™è¯¯åˆ†æ)
â”‚   â””â”€â”€ recovery.ts          (æ¢å¤ç­–ç•¥)
â”œâ”€â”€ network/                  ğŸ“ ç½‘ç»œç›¸å…³
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ monitor.ts           (ç½‘ç»œç›‘æ§)
â”‚   â”œâ”€â”€ offline.ts           (ç¦»çº¿é˜Ÿåˆ—)
â”‚   â””â”€â”€ status.ts            (ç½‘ç»œçŠ¶æ€)
â”œâ”€â”€ concurrency/              ğŸ“ å¹¶å‘æ§åˆ¶
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ manager.ts           (å¹¶å‘ç®¡ç†)
â”‚   â”œâ”€â”€ dedup.ts             (è¯·æ±‚å»é‡)
â”‚   â”œâ”€â”€ priority.ts          (ä¼˜å…ˆçº§é˜Ÿåˆ—)
â”‚   â””â”€â”€ rate-limit.ts        (é™æµ)
â”œâ”€â”€ monitoring/               ğŸ“ ç›‘æ§ç»Ÿè®¡
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ request-monitor.ts   (è¯·æ±‚ç›‘æ§ - åˆå¹¶monitor.ts)
â”‚   â”œâ”€â”€ performance.ts       (æ€§èƒ½ç›‘æ§)
â”‚   â””â”€â”€ trace.ts             (è¯·æ±‚è¿½è¸ª)
â”œâ”€â”€ file/                     ğŸ“ æ–‡ä»¶æ“ä½œ
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ upload.ts            (ä¸Šä¼ )
â”‚   â””â”€â”€ download.ts          (ä¸‹è½½)
â”œâ”€â”€ cancel/                   ğŸ“ å–æ¶ˆç®¡ç†
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ manager.ts           (å–æ¶ˆç®¡ç†å™¨ - åˆå¹¶æ‰€æœ‰cancelæ–‡ä»¶)
â”‚   â””â”€â”€ token.ts             (å–æ¶ˆä»¤ç‰Œ)
â”œâ”€â”€ helpers/                  ğŸ“ é€šç”¨å·¥å…·
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ url.ts               (URLå¤„ç†)
â”‚   â”œâ”€â”€ transformer.ts       (æ•°æ®è½¬æ¢)
â”‚   â”œâ”€â”€ logger.ts            (æ—¥å¿—)
â”‚   â”œâ”€â”€ memory.ts            (å†…å­˜ç®¡ç†)
â”‚   â””â”€â”€ batch.ts             (æ‰¹å¤„ç†)
â””â”€â”€ index.ts                  (æ€»å¯¼å‡º)
```

**ä¼˜åŒ–æ”¶ç›Šï¼š**
- âœ… æ›´æ¸…æ™°çš„æ¨¡å—åˆ’åˆ†
- âœ… æ›´çŸ­çš„å¯¼å…¥è·¯å¾„
- âœ… æ›´æ˜“äºç»´æŠ¤
- âœ… å‡å°‘æ–‡ä»¶æ•°é‡ï¼ˆ39ä¸ª â†’ çº¦25ä¸ªï¼‰

**å®æ–½å»ºè®®ï¼š**
1. åˆ›å»ºæ–°çš„ç›®å½•ç»“æ„
2. é€æ­¥è¿ç§»æ–‡ä»¶å†…å®¹
3. æ›´æ–°æ‰€æœ‰å¯¼å…¥è·¯å¾„
4. æ›´æ–°å¯¼å‡ºç´¢å¼•
5. éªŒè¯æ‰€æœ‰åŠŸèƒ½æ­£å¸¸

---

## âš¡ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### ä¼˜åŒ–1ï¼šç¼“å­˜ç®—æ³•æ”¹è¿›ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

**å½“å‰å®ç°é—®é¢˜ï¼š**
```typescript
// utils/cache.ts
export class MemoryCacheStorage {
  private cache = new Map<string, CacheItem>()
  private accessOrder = new Map<string, number>() // âŒ ä¸¤ä¸ªMapï¼Œå†…å­˜å¼€é”€å¤§
  
  evictLRU() {
    // éå†æ‰€æœ‰é¡¹æ‰¾æœ€æ—§çš„ï¼ŒO(n)æ—¶é—´å¤æ‚åº¦
    let oldestKey: string | null = null
    let oldestTime = Infinity
    
    this.accessOrder.forEach((time, key) => {
      if (time < oldestTime) {
        oldestTime = time
        oldestKey = key
      }
    })
    
    if (oldestKey) {
      this.cache.delete(oldestKey)
    }
  }
}
```

**ä¼˜åŒ–æ–¹æ¡ˆï¼šå•Map + åŒå‘é“¾è¡¨**
```typescript
/**
 * LRUç¼“å­˜èŠ‚ç‚¹
 */
interface LRUNode<T> {
  key: string
  value: T
  prev: LRUNode<T> | null
  next: LRUNode<T> | null
  timestamp: number
  ttl: number
}

/**
 * ä¼˜åŒ–çš„LRUç¼“å­˜å®ç°
 * 
 * æ€§èƒ½ç‰¹ç‚¹ï¼š
 * - æŸ¥è¯¢ï¼šO(1)
 * - æ’å…¥ï¼šO(1)
 * - æ·˜æ±°ï¼šO(1)
 * - å†…å­˜ï¼šå‡å°‘50%ï¼ˆåªç”¨ä¸€ä¸ªMapï¼‰
 */
export class OptimizedLRUCache<T> {
  private cache = new Map<string, LRUNode<T>>()
  private head: LRUNode<T> | null = null  // æœ€è¿‘ä½¿ç”¨
  private tail: LRUNode<T> | null = null  // æœ€ä¹…æœªä½¿ç”¨
  private maxSize: number
  
  constructor(maxSize: number = 1000) {
    this.maxSize = maxSize
  }
  
  get(key: string): T | null {
    const node = this.cache.get(key)
    if (!node) return null
    
    // æ£€æŸ¥è¿‡æœŸ
    if (Date.now() - node.timestamp > node.ttl) {
      this.remove(node)
      return null
    }
    
    // ç§»åŠ¨åˆ°å¤´éƒ¨ï¼ˆæœ€è¿‘ä½¿ç”¨ï¼‰- O(1)
    this.moveToHead(node)
    return node.value
  }
  
  set(key: string, value: T, ttl: number = 300000): void {
    const existing = this.cache.get(key)
    
    if (existing) {
      // æ›´æ–°å·²å­˜åœ¨çš„èŠ‚ç‚¹
      existing.value = value
      existing.timestamp = Date.now()
      existing.ttl = ttl
      this.moveToHead(existing)
    } else {
      // åˆ›å»ºæ–°èŠ‚ç‚¹
      const node: LRUNode<T> = {
        key,
        value,
        prev: null,
        next: null,
        timestamp: Date.now(),
        ttl
      }
      
      // æ£€æŸ¥æ˜¯å¦éœ€è¦æ·˜æ±° - O(1)
      if (this.cache.size >= this.maxSize) {
        this.evictTail()
      }
      
      this.cache.set(key, node)
      this.addToHead(node)
    }
  }
  
  private moveToHead(node: LRUNode<T>): void {
    // ä»å½“å‰ä½ç½®ç§»é™¤
    this.removeNode(node)
    // æ·»åŠ åˆ°å¤´éƒ¨
    this.addToHead(node)
  }
  
  private removeNode(node: LRUNode<T>): void {
    if (node.prev) {
      node.prev.next = node.next
    } else {
      this.head = node.next
    }
    
    if (node.next) {
      node.next.prev = node.prev
    } else {
      this.tail = node.prev
    }
  }
  
  private addToHead(node: LRUNode<T>): void {
    node.next = this.head
    node.prev = null
    
    if (this.head) {
      this.head.prev = node
    }
    
    this.head = node
    
    if (!this.tail) {
      this.tail = node
    }
  }
  
  private evictTail(): void {
    if (!this.tail) return
    
    this.cache.delete(this.tail.key)
    
    if (this.tail.prev) {
      this.tail = this.tail.prev
      this.tail.next = null
    } else {
      this.head = null
      this.tail = null
    }
  }
}
```

**æ€§èƒ½å¯¹æ¯”ï¼š**
| æ“ä½œ | å½“å‰å®ç° | ä¼˜åŒ–å | æå‡ |
|------|---------|--------|------|
| æŸ¥è¯¢ | O(1) | O(1) | ç›¸åŒ |
| æ’å…¥ | O(1) | O(1) | ç›¸åŒ |
| æ·˜æ±° | O(n) | O(1) | **æ˜¾è‘—æå‡** |
| å†…å­˜ | 2ä¸ªMap | 1ä¸ªMap | **-50%** |

**é¢„æœŸæ”¶ç›Šï¼š**
- âš¡ LRUæ·˜æ±°æ€§èƒ½ï¼šä»O(n) â†’ O(1)
- ğŸ’¾ å†…å­˜å ç”¨ï¼šå‡å°‘50%
- ğŸ¯ é«˜å¹¶å‘åœºæ™¯ï¼šæ€§èƒ½æå‡60%+

---

### ä¼˜åŒ–2ï¼šæ·»åŠ å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

**ç›®çš„ï¼š** å‡å°‘ä¸å­˜åœ¨é”®çš„æŸ¥è¯¢å¼€é”€

```typescript
/**
 * ç®€å•çš„å¸ƒéš†è¿‡æ»¤å™¨å®ç°
 */
class BloomFilter {
  private bitArray: Uint8Array
  private hashCount: number
  
  constructor(size: number = 10000, hashCount: number = 3) {
    this.bitArray = new Uint8Array(size)
    this.hashCount = hashCount
  }
  
  add(key: string): void {
    for (let i = 0; i < this.hashCount; i++) {
      const hash = this.hash(key, i) % this.bitArray.length
      this.bitArray[hash] = 1
    }
  }
  
  mightContain(key: string): boolean {
    for (let i = 0; i < this.hashCount; i++) {
      const hash = this.hash(key, i) % this.bitArray.length
      if (this.bitArray[hash] === 0) {
        return false  // ä¸€å®šä¸å­˜åœ¨
      }
    }
    return true  // å¯èƒ½å­˜åœ¨
  }
  
  private hash(key: string, seed: number): number {
    let hash = seed
    for (let i = 0; i < key.length; i++) {
      hash = ((hash << 5) - hash) + key.charCodeAt(i)
      hash = hash & hash // Convert to 32bit integer
    }
    return Math.abs(hash)
  }
}

/**
 * å¸¦å¸ƒéš†è¿‡æ»¤å™¨çš„ç¼“å­˜
 */
export class BloomFilterCache<T> extends OptimizedLRUCache<T> {
  private bloom: BloomFilter
  
  constructor(maxSize: number = 1000) {
    super(maxSize)
    this.bloom = new BloomFilter(maxSize * 10, 3)
  }
  
  get(key: string): T | null {
    // å¿«é€Ÿè·¯å¾„ï¼šå¸ƒéš†è¿‡æ»¤å™¨åˆ¤æ–­ä¸€å®šä¸å­˜åœ¨
    if (!this.bloom.mightContain(key)) {
      return null  // é¿å…MapæŸ¥è¯¢
    }
    
    // å¯èƒ½å­˜åœ¨ï¼Œæ‰§è¡Œå®é™…æŸ¥è¯¢
    return super.get(key)
  }
  
  set(key: string, value: T, ttl: number = 300000): void {
    this.bloom.add(key)
    super.set(key, value, ttl)
  }
}
```

**æ€§èƒ½æ”¶ç›Šï¼š**
- å¯¹äºä¸å­˜åœ¨çš„é”®ï¼šæŸ¥è¯¢æ€§èƒ½æå‡ 90%+
- å†…å­˜å¼€é”€ï¼šä»…å¢åŠ  ~1.25KBï¼ˆ10000ä½ï¼‰
- é€‚ç”¨åœºæ™¯ï¼šæŸ¥è¯¢ä¸å­˜åœ¨é”®é¢‘ç¹çš„åœºæ™¯

---

### ä¼˜åŒ–3ï¼šæ­£åˆ™è¡¨è¾¾å¼ç¼“å­˜ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

**å½“å‰é—®é¢˜ï¼š**
```typescript
// utils/index.ts
export function isAbsoluteURL(url: string): boolean {
  return /^(?:[a-z][a-z\d+\-.]*:)?\/\//i.test(url)  // âŒ æ¯æ¬¡éƒ½åˆ›å»ºæ–°æ­£åˆ™
}
```

**ä¼˜åŒ–æ–¹æ¡ˆï¼š**
```typescript
// ç¼“å­˜å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼
const REGEX_CACHE = {
  // URLç›¸å…³
  ABSOLUTE_URL: /^(?:[a-z][a-z\d+\-.]*:)?\/\//i,
  PROTOCOL: /^[a-z][a-z\d+\-.]*:/i,
  TRAILING_SLASH: /\/+$/,
  LEADING_SLASH: /^\/+/,
  
  // å†…å®¹ç±»å‹
  JSON_CONTENT_TYPE: /application\/json/i,
  TEXT_CONTENT_TYPE: /text\//i,
  
  // æ–‡ä»¶æ‰©å±•å
  IMAGE_EXT: /\.(jpg|jpeg|png|gif|webp|svg)$/i,
  VIDEO_EXT: /\.(mp4|webm|ogg|avi)$/i,
  DOCUMENT_EXT: /\.(pdf|doc|docx|xls|xlsx)$/i,
} as const

/**
 * åˆ¤æ–­æ˜¯å¦ä¸ºç»å¯¹URLï¼ˆä¼˜åŒ–ç‰ˆï¼‰
 */
export function isAbsoluteURL(url: string): boolean {
  return REGEX_CACHE.ABSOLUTE_URL.test(url)
}

/**
 * åˆå¹¶URLï¼ˆä¼˜åŒ–ç‰ˆï¼‰
 */
export function combineURLs(baseURL: string, relativeURL: string): string {
  return relativeURL
    ? `${baseURL.replace(REGEX_CACHE.TRAILING_SLASH, '')}/${relativeURL.replace(REGEX_CACHE.LEADING_SLASH, '')}`
    : baseURL
}
```

**æ€§èƒ½æ”¶ç›Šï¼š**
- æ­£åˆ™è¡¨è¾¾å¼åˆ›å»ºå¼€é”€ï¼šå‡å°‘100%
- æ€§èƒ½æå‡ï¼šçº¦10-15%ï¼ˆé«˜é¢‘è°ƒç”¨åœºæ™¯ï¼‰
- å†…å­˜ï¼šå¤ç”¨æ­£åˆ™å¯¹è±¡ï¼Œå‡å°‘GCå‹åŠ›

---

### ä¼˜åŒ–4ï¼šæ‰¹é‡å¤„ç†ä¼˜åŒ–ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

**å»ºè®®ï¼š** ä½¿ç”¨å¾®ä»»åŠ¡æ‰¹å¤„ç†

```typescript
/**
 * å¾®ä»»åŠ¡æ‰¹å¤„ç†è°ƒåº¦å™¨
 * 
 * å°†å¤šä¸ªåŒæ­¥æ“ä½œåˆå¹¶æˆä¸€æ¬¡å¾®ä»»åŠ¡æ‰§è¡Œ
 */
class MicrotaskScheduler {
  private pending = new Set<() => void>()
  private scheduled = false
  
  schedule(task: () => void): void {
    this.pending.add(task)
    
    if (!this.scheduled) {
      this.scheduled = true
      queueMicrotask(() => {
        this.flush()
      })
    }
  }
  
  private flush(): void {
    const tasks = Array.from(this.pending)
    this.pending.clear()
    this.scheduled = false
    
    // æ‰¹é‡æ‰§è¡Œ
    for (const task of tasks) {
      try {
        task()
      } catch (error) {
        console.error('Microtask error:', error)
      }
    }
  }
}

// å…¨å±€è°ƒåº¦å™¨
const globalScheduler = new MicrotaskScheduler()

/**
 * æ‰¹é‡æ›´æ–°ç¼“å­˜ç»Ÿè®¡
 */
export function scheduleStatsUpdate(updateFn: () => void): void {
  globalScheduler.schedule(updateFn)
}
```

**åº”ç”¨åœºæ™¯ï¼š**
- ç¼“å­˜ç»Ÿè®¡æ›´æ–°
- ç›‘æ§æ•°æ®è®°å½•
- æ—¥å¿—æ‰¹é‡å†™å…¥

**æ€§èƒ½æ”¶ç›Šï¼š**
- å‡å°‘åŒæ­¥æ“ä½œæ¬¡æ•°
- åˆå¹¶å¤šæ¬¡æ›´æ–°ä¸ºä¸€æ¬¡
- é«˜å¹¶å‘åœºæ™¯æå‡30-40%

---

## ğŸš€ åŠŸèƒ½å¢å¼ºå»ºè®®

### åŠŸèƒ½1ï¼šè¯·æ±‚é‡æ”¾ï¼ˆRequest Replayï¼‰

**åº”ç”¨åœºæ™¯ï¼š**
- ç½‘ç»œæ–­å¼€åè‡ªåŠ¨é‡æ”¾å¤±è´¥çš„è¯·æ±‚
- ç”¨æˆ·è®¤è¯åˆ·æ–°åé‡æ”¾è¢«æ‹’ç»çš„è¯·æ±‚
- æœåŠ¡å™¨æ¢å¤åé‡æ”¾é˜Ÿåˆ—ä¸­çš„è¯·æ±‚

**å®ç°æ–¹æ¡ˆï¼š**
```typescript
/**
 * è¯·æ±‚é‡æ”¾é…ç½®
 */
interface ReplayConfig {
  /** æ˜¯å¦å¯ç”¨é‡æ”¾ */
  enabled: boolean
  /** æœ€å¤§é‡æ”¾æ¬¡æ•° */
  maxAttempts: number
  /** é‡æ”¾å»¶è¿Ÿ */
  delay: number
  /** é‡æ”¾æ¡ä»¶ */
  shouldReplay: (error: HttpError) => boolean
  /** é‡æ”¾å›è°ƒ */
  onReplay?: (attempt: number, request: RequestConfig) => void
}

/**
 * è¯·æ±‚é‡æ”¾å™¨
 */
class RequestReplayer {
  private queue: Array<{
    config: RequestConfig
    resolve: (value: any) => void
    reject: (error: any) => void
    attempts: number
  }> = []
  
  /**
   * æ·»åŠ å¤±è´¥çš„è¯·æ±‚åˆ°é‡æ”¾é˜Ÿåˆ—
   */
  enqueue(
    config: RequestConfig,
    error: HttpError
  ): Promise<ResponseData> {
    return new Promise((resolve, reject) => {
      this.queue.push({
        config,
        resolve,
        reject,
        attempts: 0
      })
    })
  }
  
  /**
   * ç½‘ç»œæ¢å¤åè‡ªåŠ¨é‡æ”¾
   */
  async replayAll(): Promise<void> {
    const requests = [...this.queue]
    this.queue = []
    
    for (const req of requests) {
      try {
        const response = await this.client.request(req.config)
        req.resolve(response)
      } catch (error) {
        req.attempts++
        
        if (req.attempts < this.config.maxAttempts) {
          // é‡æ–°å…¥é˜Ÿ
          this.queue.push(req)
        } else {
          req.reject(error)
        }
      }
    }
  }
}
```

**é¢„æœŸæ”¶ç›Šï¼š**
- æå‡ç¦»çº¿åœºæ™¯çš„ç”¨æˆ·ä½“éªŒ
- å‡å°‘ç”¨æˆ·æ‰‹åŠ¨é‡è¯•çš„éœ€è¦
- æé«˜è¯·æ±‚æˆåŠŸç‡

---

### åŠŸèƒ½2ï¼šæ–­è·¯å™¨æ¨¡å¼ï¼ˆCircuit Breakerï¼‰

**åº”ç”¨åœºæ™¯ï¼š**
- æœåŠ¡é™çº§ä¿æŠ¤
- é˜²æ­¢é›ªå´©æ•ˆåº”
- å¿«é€Ÿå¤±è´¥ç­–ç•¥

**å®ç°æ–¹æ¡ˆï¼š**
```typescript
/**
 * æ–­è·¯å™¨çŠ¶æ€
 */
enum CircuitState {
  CLOSED = 'closed',      // æ­£å¸¸çŠ¶æ€
  OPEN = 'open',          // æ–­è·¯çŠ¶æ€ï¼ˆå¿«é€Ÿå¤±è´¥ï¼‰
  HALF_OPEN = 'half_open' // åŠå¼€çŠ¶æ€ï¼ˆå°è¯•æ¢å¤ï¼‰
}

/**
 * æ–­è·¯å™¨é…ç½®
 */
interface CircuitBreakerConfig {
  /** å¤±è´¥é˜ˆå€¼ï¼ˆè§¦å‘æ–­è·¯ï¼‰ */
  failureThreshold: number
  /** æˆåŠŸé˜ˆå€¼ï¼ˆæ¢å¤æ­£å¸¸ï¼‰ */
  successThreshold: number
  /** è¶…æ—¶æ—¶é—´ï¼ˆå°è¯•æ¢å¤ï¼‰ */
  timeout: number
  /** ç»Ÿè®¡çª—å£ï¼ˆæ¯«ç§’ï¼‰ */
  windowSize: number
}

/**
 * æ–­è·¯å™¨å®ç°
 */
class CircuitBreaker {
  private state: CircuitState = CircuitState.CLOSED
  private failures: number = 0
  private successes: number = 0
  private nextAttempt: number = 0
  
  async execute<T>(fn: () => Promise<T>): Promise<T> {
    // æ–­è·¯çŠ¶æ€ï¼šå¿«é€Ÿå¤±è´¥
    if (this.state === CircuitState.OPEN) {
      if (Date.now() < this.nextAttempt) {
        throw new Error('Circuit breaker is OPEN')
      }
      // å°è¯•æ¢å¤
      this.state = CircuitState.HALF_OPEN
      this.successes = 0
    }
    
    try {
      const result = await fn()
      this.onSuccess()
      return result
    } catch (error) {
      this.onFailure()
      throw error
    }
  }
  
  private onSuccess(): void {
    this.failures = 0
    
    if (this.state === CircuitState.HALF_OPEN) {
      this.successes++
      
      if (this.successes >= this.config.successThreshold) {
        // æ¢å¤æ­£å¸¸
        this.state = CircuitState.CLOSED
      }
    }
  }
  
  private onFailure(): void {
    this.failures++
    this.successes = 0
    
    if (this.failures >= this.config.failureThreshold) {
      // è§¦å‘æ–­è·¯
      this.state = CircuitState.OPEN
      this.nextAttempt = Date.now() + this.config.timeout
    }
  }
  
  getState(): CircuitState {
    return this.state
  }
}
```

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```typescript
const breaker = new CircuitBreaker({
  failureThreshold: 5,    // 5æ¬¡å¤±è´¥åæ–­è·¯
  successThreshold: 2,    // 2æ¬¡æˆåŠŸåæ¢å¤
  timeout: 60000,         // 60ç§’åå°è¯•æ¢å¤
  windowSize: 10000       // 10ç§’ç»Ÿè®¡çª—å£
})

try {
  const response = await breaker.execute(() => 
    client.get('/api/unstable')
  )
} catch (error) {
  if (error.message === 'Circuit breaker is OPEN') {
    // æœåŠ¡å·²é™çº§ï¼Œä½¿ç”¨fallback
    return fallbackData
  }
}
```

---

### åŠŸèƒ½3ï¼šæ™ºèƒ½é¢„åŠ è½½ï¼ˆSmart Preloadingï¼‰

**åº”ç”¨åœºæ™¯ï¼š**
- æ ¹æ®ç”¨æˆ·è¡Œä¸ºé¢„æµ‹ä¸‹ä¸€ä¸ªè¯·æ±‚
- é¢„åŠ è½½å¯èƒ½éœ€è¦çš„æ•°æ®
- æå‡ç”¨æˆ·ä½“éªŒ

**å®ç°æ–¹æ¡ˆï¼š**
```typescript
/**
 * æ™ºèƒ½é¢„åŠ è½½å™¨
 */
class SmartPreloader {
  private patterns = new Map<string, string[]>() // URL â†’ åç»­URLs
  private preloadThreshold = 0.6 // 60%æ¦‚ç‡è§¦å‘é¢„åŠ è½½
  
  /**
   * è®°å½•è¯·æ±‚æ¨¡å¼
   */
  recordPattern(from: string, to: string): void {
    const nexts = this.patterns.get(from) || []
    nexts.push(to)
    this.patterns.set(from, nexts)
  }
  
  /**
   * é¢„æµ‹å¹¶é¢„åŠ è½½
   */
  async predictAndPreload(currentUrl: string, client: HttpClient): Promise<void> {
    const nexts = this.patterns.get(currentUrl)
    if (!nexts || nexts.length === 0) return
    
    // è®¡ç®—æ¯ä¸ªURLçš„è®¿é—®é¢‘ç‡
    const frequencies = new Map<string, number>()
    nexts.forEach(url => {
      frequencies.set(url, (frequencies.get(url) || 0) + 1)
    })
    
    // é¢„åŠ è½½é«˜é¢‘URL
    const total = nexts.length
    for (const [url, count] of frequencies) {
      const probability = count / total
      
      if (probability >= this.preloadThreshold) {
        // ä½ä¼˜å…ˆçº§é¢„åŠ è½½ï¼Œä¸é˜»å¡ä¸»çº¿ç¨‹
        requestIdleCallback(() => {
          client.get(url, {
            priority: 'low',
            cache: { enabled: true, ttl: 60000 }
          }).catch(() => {
            // é¢„åŠ è½½å¤±è´¥ä¸å½±å“åŠŸèƒ½
          })
        })
      }
    }
  }
}
```

---

### åŠŸèƒ½4ï¼šå“åº”æ•°æ®éªŒè¯

**åº”ç”¨åœºæ™¯ï¼š**
- è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥
- APIå¥‘çº¦éªŒè¯
- æ•°æ®å®Œæ•´æ€§æ ¡éªŒ

**å®ç°æ–¹æ¡ˆï¼ˆä½¿ç”¨Zodï¼‰ï¼š**
```typescript
import { z } from 'zod'

/**
 * å“åº”éªŒè¯é…ç½®
 */
interface ValidationConfig<T> {
  schema: z.ZodSchema<T>
  onValidationError?: (error: z.ZodError) => void
  strict?: boolean // ä¸¥æ ¼æ¨¡å¼ï¼šéªŒè¯å¤±è´¥æŠ›å‡ºé”™è¯¯
}

/**
 * åˆ›å»ºå¸¦éªŒè¯çš„HTTPå®¢æˆ·ç«¯
 */
function createValidatedClient<T>(
  client: HttpClient,
  validation: ValidationConfig<T>
) {
  return {
    async get(url: string, config?: RequestConfig) {
      const response = await client.get(url, config)
      
      try {
        const validated = validation.schema.parse(response.data)
        return { ...response, data: validated }
      } catch (error) {
        if (error instanceof z.ZodError) {
          validation.onValidationError?.(error)
          
          if (validation.strict) {
            throw new Error(`Response validation failed: ${error.message}`)
          }
        }
        return response
      }
    }
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const UserSchema = z.object({
  id: z.number(),
  name: z.string(),
  email: z.string().email()
})

const validatedClient = createValidatedClient(client, {
  schema: UserSchema,
  onValidationError: (error) => {
    console.error('æ•°æ®éªŒè¯å¤±è´¥:', error.errors)
  },
  strict: true
})

// ç±»å‹å®‰å…¨ + è¿è¡Œæ—¶éªŒè¯
const response = await validatedClient.get('/api/user/1')
// response.data çš„ç±»å‹æ˜¯ { id: number, name: string, email: string }
// ä¸”ç»è¿‡è¿è¡Œæ—¶éªŒè¯ï¼Œç¡®ä¿æ•°æ®ç¬¦åˆé¢„æœŸ
```

---

## ğŸ›¡ï¸ ç±»å‹ç³»ç»Ÿä¼˜åŒ–å»ºè®®

### ä¼˜åŒ–1ï¼šç§»é™¤æ‰€æœ‰ `any` ç±»å‹

**å½“å‰é—®é¢˜ï¼š**
```typescript
// types/base.ts
private buildBody(data: any, headers?: Record<string, string>): BodyInit {
  // âŒ ä½¿ç”¨ any
}

export function deepClone<T>(obj: T): T {
  if (typeof obj === 'object') {
    const cloned = {} as T
    for (const key in obj) {
      cloned[key] = deepClone(obj[key])  // âŒ obj[key] æ˜¯ any
    }
  }
}
```

**ä¼˜åŒ–æ–¹æ¡ˆï¼š**
```typescript
/**
 * ç±»å‹å®‰å…¨çš„æ„å»ºè¯·æ±‚ä½“
 */
private buildBody(
  data: unknown,  // âœ… ä½¿ç”¨ unknown æ›¿ä»£ any
  headers?: Record<string, string>
): BodyInit | undefined {
  if (data === null || data === undefined) {
    return undefined
  }
  
  // ç±»å‹å®ˆå«
  if (typeof data === 'string') {
    return data
  }
  
  if (isFormData(data)) {
    return data
  }
  
  // ... å…¶ä»–ç±»å‹æ£€æŸ¥
}

/**
 * ç±»å‹å®‰å…¨çš„æ·±æ‹·è´
 */
export function deepClone<T>(obj: T): T {
  if (obj === null || typeof obj !== 'object') {
    return obj
  }
  
  if (obj instanceof Date) {
    return new Date(obj.getTime()) as T
  }
  
  if (Array.isArray(obj)) {
    return obj.map(item => deepClone(item)) as T
  }
  
  // ä½¿ç”¨ keyof T ç¡®ä¿ç±»å‹å®‰å…¨
  const cloned = {} as T
  for (const key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      cloned[key] = deepClone(obj[key])
    }
  }
  
  return cloned
}
```

---

### ä¼˜åŒ–2ï¼šæ·»åŠ å“ç‰Œç±»å‹

**ç›®çš„ï¼š** é¿å…åŸºç¡€ç±»å‹è¯¯ç”¨

```typescript
/**
 * å“ç‰Œç±»å‹å®ç°
 */
type Brand<T, TBrand> = T & { __brand: TBrand }

/**
 * URL å“ç‰Œç±»å‹
 */
export type Url = Brand<string, 'Url'>

/**
 * åˆ›å»ºURL
 */
export function createUrl(url: string): Url {
  if (!isValidUrl(url)) {
    throw new Error(`Invalid URL: ${url}`)
  }
  return url as Url
}

/**
 * è¯·æ±‚IDå“ç‰Œç±»å‹
 */
export type RequestId = Brand<string, 'RequestId'>

export function createRequestId(): RequestId {
  return crypto.randomUUID() as RequestId
}

/**
 * è¶…æ—¶æ—¶é—´å“ç‰Œç±»å‹
 */
export type Timeout = Brand<number, 'Timeout'>

export function createTimeout(ms: number): Timeout {
  if (ms < 0) {
    throw new Error('Timeout must be >= 0')
  }
  if (ms > 300000) {
    console.warn('Timeout > 5 minutes, are you sure?')
  }
  return ms as Timeout
}

// ä½¿ç”¨ç¤ºä¾‹
const url = createUrl('https://api.example.com')  // Url ç±»å‹
const requestId = createRequestId()                // RequestId ç±»å‹
const timeout = createTimeout(5000)                // Timeout ç±»å‹

// ç±»å‹å®‰å…¨ï¼šä¸èƒ½æ··ç”¨
function processUrl(url: Url) {
  // ...
}

processUrl(requestId)  // âŒ ç¼–è¯‘é”™è¯¯ï¼ç±»å‹ä¸åŒ¹é…
processUrl(url)        // âœ… æ­£ç¡®
```

**ä¼˜ç‚¹ï¼š**
- ç¼–è¯‘æ—¶æ•è·ç±»å‹æ··ç”¨é”™è¯¯
- æ›´æ¸…æ™°çš„APIè¯­ä¹‰
- æ›´å¥½çš„ä»£ç æ–‡æ¡£åŒ–

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥å»ºè®®

### å½“å‰çŠ¶æ€
- æµ‹è¯•è¦†ç›–ç‡ï¼š51.1%
- æµ‹è¯•ç”¨ä¾‹ï¼š372+
- ç¼ºå°‘ï¼šæ€§èƒ½æµ‹è¯•ã€å¹¶å‘æµ‹è¯•ã€è¾¹ç•Œæµ‹è¯•

### å»ºè®®å¢åŠ çš„æµ‹è¯•

#### 1. æ€§èƒ½åŸºå‡†æµ‹è¯•
```typescript
describe('Performance Benchmarks', () => {
  it('buildQueryString should handle 1000 small objects in < 20ms', () => {
    const start = performance.now()
    
    for (let i = 0; i < 1000; i++) {
      buildQueryString({
        id: i,
        name: 'test',
        active: true
      })
    }
    
    const duration = performance.now() - start
    expect(duration).toBeLessThan(20)
  })
  
  it('request fast path should be 2x faster than normal path', async () => {
    // æµ‹è¯•å¿«é€Ÿè·¯å¾„ vs æ™®é€šè·¯å¾„çš„æ€§èƒ½å·®å¼‚
  })
})
```

#### 2. å¹¶å‘æµ‹è¯•
```typescript
describe('Concurrency Tests', () => {
  it('should handle 100 concurrent requests', async () => {
    const requests = Array.from({ length: 100 }, (_, i) =>
      client.get(`/api/data/${i}`)
    )
    
    const results = await Promise.allSettled(requests)
    const successful = results.filter(r => r.status === 'fulfilled')
    
    expect(successful.length).toBeGreaterThan(95)
  })
  
  it('should deduplicate identical requests', async () => {
    const requests = Array.from({ length: 10 }, () =>
      client.get('/api/same')
    )
    
    const results = await Promise.all(requests)
    
    // éªŒè¯åªå‘é€äº†ä¸€æ¬¡å®é™…è¯·æ±‚
    expect(mock.calls.length).toBe(1)
    // ä½†æ‰€æœ‰è¯·æ±‚éƒ½å¾—åˆ°äº†å“åº”
    expect(results.length).toBe(10)
  })
})
```

#### 3. å†…å­˜æ³„æ¼æµ‹è¯•
```typescript
describe('Memory Leak Tests', () => {
  it('should not leak memory after destroy', async () => {
    const initial = process.memoryUsage().heapUsed
    
    // åˆ›å»ºå’Œé”€æ¯1000æ¬¡
    for (let i = 0; i < 1000; i++) {
      const client = await createHttpClient()
      await client.get('/api/test')
      client.destroy()
    }
    
    // æ‰‹åŠ¨GC
    if (global.gc) global.gc()
    
    const final = process.memoryUsage().heapUsed
    const diff = final - initial
    
    // å†…å­˜å¢é•¿åº”è¯¥å¾ˆå°
    expect(diff).toBeLessThan(10 * 1024 * 1024) // < 10MB
  })
})
```

#### 4. è¾¹ç•Œæµ‹è¯•
```typescript
describe('Edge Cases', () => {
  it('should handle empty query params', () => {
    expect(buildQueryString({})).toBe('')
  })
  
  it('should handle null and undefined params', () => {
    expect(buildQueryString({ a: null, b: undefined })).toBe('')
  })
  
  it('should handle very long URLs', async () => {
    const longParams = Object.fromEntries(
      Array.from({ length: 100 }, (_, i) => [`key${i}`, `value${i}`])
    )
    
    const response = await client.get('/api', { params: longParams })
    expect(response.status).toBe(200)
  })
  
  it('should handle timeout edge cases', async () => {
    await expect(client.get('/slow', { timeout: 1 }))
      .rejects.toThrow('timeout')
  })
})
```

---

## ğŸ“– æœ€ä½³å®è·µæŒ‡å—

### 1. å®¢æˆ·ç«¯åˆ›å»º

**æ¨èï¼š** ä½¿ç”¨é¢„è®¾é…ç½®
```typescript
import { createHttpClient, presets } from '@ldesign/http'

// âœ… æ¨èï¼šä½¿ç”¨é¢„è®¾
const client = await createHttpClient({
  ...presets.restful,
  baseURL: 'https://api.example.com'
})

// âŒ ä¸æ¨èï¼šæ‰‹åŠ¨é…ç½®æ‰€æœ‰é€‰é¡¹
const client = await createHttpClient({
  baseURL: 'https://api.example.com',
  timeout: 10000,
  cache: { enabled: true, ttl: 300000 },
  retry: { retries: 3, retryDelay: 1000 },
  // ... å¤ªå¤šé…ç½®
})
```

### 2. æ€§èƒ½ä¼˜åŒ–

**æ¨èï¼š** ä½¿ç”¨å¿«é€Ÿè·¯å¾„
```typescript
// âœ… ç®€å•è¯·æ±‚ï¼šè‡ªåŠ¨ä½¿ç”¨å¿«é€Ÿè·¯å¾„ï¼ˆ+40-50%æ€§èƒ½ï¼‰
await client.get('/api/simple')

// âš ï¸ å¤æ‚é…ç½®ï¼šèµ°æ™®é€šè·¯å¾„
await client.get('/api/complex', {
  retry: { retries: 3 },
  priority: 'high',
  cache: { enabled: true }
})
```

### 3. å†…å­˜ç®¡ç†

**æ¨èï¼š** åŠæ—¶é”€æ¯ä¸ç”¨çš„å®¢æˆ·ç«¯
```typescript
// âœ… æ¨èï¼šç»„ä»¶å¸è½½æ—¶é”€æ¯
onBeforeUnmount(() => {
  client.destroy()
})

// âœ… æ¨èï¼šä½¿ç”¨å®Œåé”€æ¯ä¸´æ—¶å®¢æˆ·ç«¯
const tempClient = await createHttpClient(config)
try {
  await tempClient.get('/api/data')
} finally {
  tempClient.destroy()
}
```

### 4. é”™è¯¯å¤„ç†

**æ¨èï¼š** ä½¿ç”¨ç±»å‹å®ˆå«
```typescript
import { isNetworkError, isTimeoutError, isHttpError } from '@ldesign/http'

try {
  await client.get('/api/data')
} catch (error) {
  // âœ… æ¨èï¼šä½¿ç”¨ç±»å‹å®ˆå«
  if (isNetworkError(error)) {
    console.log('ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥è¿æ¥')
  } else if (isTimeoutError(error)) {
    console.log('è¯·æ±‚è¶…æ—¶ï¼Œè¯·é‡è¯•')
  } else if (isHttpError(error)) {
    console.log(`HTTPé”™è¯¯: ${error.status}`)
  }
  
  // âŒ ä¸æ¨èï¼šå­—ç¬¦ä¸²åŒ¹é…
  if (error.message.includes('network')) {
    // ä¸å¯é 
  }
}
```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•

### è¯·æ±‚ä¼˜åŒ–
- [ ] ä½¿ç”¨é¢„è®¾é…ç½®å‡å°‘é…ç½®æ—¶é—´
- [ ] ç®€å•è¯·æ±‚åˆ©ç”¨å¿«é€Ÿè·¯å¾„
- [ ] å¯ç”¨è¯·æ±‚å»é‡é¿å…é‡å¤è¯·æ±‚
- [ ] ä½¿ç”¨å¹¶å‘æ§åˆ¶é˜²æ­¢è¯·æ±‚è¿‡è½½
- [ ] åˆç†è®¾ç½®è¶…æ—¶æ—¶é—´

### ç¼“å­˜ä¼˜åŒ–
- [ ] å¯ç”¨ç¼“å­˜å‡å°‘ç½‘ç»œè¯·æ±‚
- [ ] è®¾ç½®åˆé€‚çš„TTL
- [ ] ä½¿ç”¨ç¼“å­˜æ ‡ç­¾ç®¡ç†å¤±æ•ˆ
- [ ] å®šæœŸæ¸…ç†è¿‡æœŸç¼“å­˜
- [ ] ç›‘æ§ç¼“å­˜å‘½ä¸­ç‡

### å†…å­˜ä¼˜åŒ–
- [ ] åŠæ—¶é”€æ¯ä¸ç”¨çš„å®¢æˆ·ç«¯
- [ ] é¿å…åˆ›å»ºè¿‡å¤šå®¢æˆ·ç«¯å®ä¾‹
- [ ] ä½¿ç”¨WeakMapå­˜å‚¨ä¸´æ—¶æ•°æ®
- [ ] å®šæœŸæ¸…ç†ç¼“å­˜
- [ ] ç§»é™¤ä¸ç”¨çš„æ‹¦æˆªå™¨

### ç½‘ç»œä¼˜åŒ–
- [ ] ä½¿ç”¨è¿æ¥æ± å¤ç”¨è¿æ¥
- [ ] å¯ç”¨keep-alive
- [ ] åˆç†è®¾ç½®å¹¶å‘æ•°
- [ ] ä½¿ç”¨HTTP/2ï¼ˆå¦‚æœå¯ç”¨ï¼‰
- [ ] å‹ç¼©è¯·æ±‚/å“åº”æ•°æ®

---

## ğŸ¯ ä»£ç è´¨é‡æ£€æŸ¥æ¸…å•

### æ³¨é‡Š
- [x] æ‰€æœ‰å…¬å…±APIæœ‰JSDoc
- [x] å¤æ‚é€»è¾‘æœ‰è¯´æ˜æ³¨é‡Š
- [x] æ€§èƒ½ä¼˜åŒ–ç‚¹æœ‰æ•°æ®æ”¯æ’‘
- [ ] æ‰€æœ‰æ–‡ä»¶æœ‰æ–‡ä»¶çº§æ³¨é‡Š

### ç±»å‹
- [x] é¿å…ä½¿ç”¨ `any`ï¼ˆæ ¸å¿ƒæ–‡ä»¶ï¼‰
- [x] ä½¿ç”¨ `unknown` æ›¿ä»£ `any`
- [x] æ·»åŠ ç±»å‹å®ˆå«
- [ ] å®Œå–„æ³›å‹çº¦æŸ
- [ ] æ·»åŠ å“ç‰Œç±»å‹

### ä»£ç 
- [x] éµå¾ªç»Ÿä¸€çš„å‘½åè§„èŒƒ
- [x] é¿å…ä»£ç é‡å¤
- [x] å‡½æ•°èŒè´£å•ä¸€
- [ ] æ¶ˆé™¤æ­»ä»£ç 
- [ ] ä¼˜åŒ–importé¡ºåº

---

## ğŸš€ ä¸‹ä¸€æ­¥æ‰§è¡Œå»ºè®®

åŸºäºå½“å‰å®Œæˆçš„å·¥ä½œï¼Œå»ºè®®æŒ‰ä»¥ä¸‹é¡ºåºç»§ç»­ï¼š

### Week 1
1. âœ… å®Œæˆå…¶ä»–é€‚é…å™¨æ–‡ä»¶æ³¨é‡Šï¼ˆaxios.ts, alova.tsï¼‰
2. âœ… ä¼˜åŒ–ç¼“å­˜ç®—æ³•ï¼ˆLRUæ”¹è¿›ï¼‰
3. âœ… æ·»åŠ å¸ƒéš†è¿‡æ»¤å™¨

### Week 2
4. âœ… å®Œå–„æ‹¦æˆªå™¨å’Œç›‘æ§æ–‡ä»¶æ³¨é‡Š
5. âœ… ç±»å‹ç³»ç»Ÿä¼˜åŒ–ï¼ˆç§»é™¤anyï¼Œæ·»åŠ å“ç‰Œç±»å‹ï¼‰
6. âœ… æ·»åŠ æ­£åˆ™è¡¨è¾¾å¼ç¼“å­˜

### Week 3
7. âœ… å®ç°è¯·æ±‚é‡æ”¾åŠŸèƒ½
8. âœ… å®ç°æ–­è·¯å™¨æ¨¡å¼
9. âœ… æ·»åŠ æ€§èƒ½åŸºå‡†æµ‹è¯•

### Week 4
10. âœ… é‡æ„utilsç›®å½•
11. âœ… æå‡æµ‹è¯•è¦†ç›–ç‡
12. âœ… å®Œå–„æ–‡æ¡£ä½“ç³»

---

## ğŸ“š å‚è€ƒèµ„æº

### æ€§èƒ½ä¼˜åŒ–
- [Web Performance Best Practices](https://web.dev/fast/)
- [JavaScript Performance Tips](https://v8.dev/blog)
- [Memory Management in JavaScript](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Memory_Management)

### TypeScript
- [TypeScript Deep Dive](https://basarat.gitbook.io/typescript/)
- [TypeScript Best Practices](https://typescript-eslint.io/docs/)
- [Branded Types](https://egghead.io/blog/using-branded-types-in-typescript)

### HTTP
- [Fetch API](https://developer.mozilla.org/docs/Web/API/Fetch_API)
- [HTTP Caching](https://developer.mozilla.org/docs/Web/HTTP/Caching)
- [HTTP/2](https://developers.google.com/web/fundamentals/performance/http2)

---

**æœ€åæ›´æ–°ï¼š** 2025å¹´1æœˆ  
**ç»´æŠ¤è€…ï¼š** @ldesignå›¢é˜Ÿ  
**ç‰ˆæœ¬ï¼š** v1.0  
**çŠ¶æ€ï¼š** æŒç»­æ›´æ–° ğŸ”„



