"use strict";var e=require("vue"),t=require("../factory.cjs");function r(r,n,a,u={}){const l=function(e){const r={baseURL:typeof window<"u"?window.location.origin:"http://localhost",...e};return t.createHttpClient(r)}(),o=e.ref(null),c=e.ref(!1),s=e.ref(null),i=e.ref(!1),f=e.computed(()=>null!==s.value);let v=null;const d=async t=>{try{c.value=!0,s.value=null,i.value=!1,v&&v.abort(),v=new AbortController;const f={...e.unref(a),signal:v.signal};let d;switch(r){case"GET":d=await l.get(e.unref(n),f);break;case"POST":d=await l.post(e.unref(n),t,f);break;case"PUT":d=await l.put(e.unref(n),t,f);break;case"PATCH":d=await l.patch(e.unref(n),t,f);break;case"DELETE":d=await l.delete(e.unref(n),f)}return o.value=d.data,u.onSuccess?.(d.data),d.data}catch(e){const t=e;return"AbortError"!==t.name&&(s.value=t,u.onError?.(t)),null}finally{c.value=!1,i.value=!0,u.onFinally?.()}};return"GET"===r&&!1!==u.immediate&&e.watch(()=>e.unref(n),()=>d(),{immediate:!0}),!1!==u.cancelOnUnmount&&e.getCurrentInstance()&&e.onUnmounted(()=>{v&&v.abort()}),{data:o,loading:c,error:s,finished:i,hasError:f,execute:d,reset:()=>{o.value=null,c.value=!1,s.value=null,i.value=!1},clearError:()=>{s.value=null}}}exports.useDelete=function(e,t,n={}){return r("DELETE",e,t,n)},exports.useGet=function(e,t,n={}){return r("GET",e,t,n)},exports.usePatch=function(e,t,n={}){return r("PATCH",e,t,n)},exports.usePost=function(e,t,n={}){return r("POST",e,t,n)},exports.usePut=function(e,t,n={}){return r("PUT",e,t,n)};
//# sourceMappingURL=useBasicHttp.cjs.map
