"use strict";var t=require("./alova.cjs"),e=require("./axios.cjs"),a=require("./fetch.cjs"),r=require("./base.cjs");class i{static register(t,e){this.adapters.set(t,e)}static create(t){if(this.adapterCache.has(t))return this.adapterCache.get(t);const e=this.adapters.get(t);if(!e)throw new Error(`Unknown adapter: ${t}`);const a=e();if(!a.isSupported())throw new Error(`Adapter '${t}' is not supported in current environment`);return this.adapterCache.set(t,a),a}static getAvailable(){const t=[];return this.adapters.forEach((e,a)=>{if(this.availabilityCache.has(a))this.availabilityCache.get(a)&&t.push(a);else try{const r=e().isSupported();this.availabilityCache.set(a,r),r&&t.push(a)}catch{this.availabilityCache.set(a,!1)}}),t}static getDefault(){const t=this.getAvailable();if(0===t.length)throw new Error("No available HTTP adapter found");const e=["fetch","axios","alova"];for(const a of e)if(t.includes(a))return this.create(a);return this.create(t[0])}static getRegistered(){return Array.from(this.adapters.keys())}static clearCache(){this.adapterCache.clear(),this.availabilityCache.clear()}static warmup(){this.getAvailable()}}i.adapters=new Map([["fetch",()=>new a.FetchAdapter],["axios",()=>new e.AxiosAdapter],["alova",()=>new t.AlovaAdapter]]),i.adapterCache=new Map,i.availabilityCache=new Map,exports.AlovaAdapter=t.AlovaAdapter,exports.AxiosAdapter=e.AxiosAdapter,exports.FetchAdapter=a.FetchAdapter,exports.BaseAdapter=r.BaseAdapter,exports.AdapterFactory=i,exports.createAdapter=function(t){if(!t)return i.getDefault();if("string"==typeof t)return i.create(t);if("object"==typeof t&&"request"in t&&"isSupported"in t)return t;throw new Error("Invalid adapter configuration")},exports.isAdapterAvailable=function(t){try{return i.create(t).isSupported()}catch{return!1}};
//# sourceMappingURL=index.cjs.map
